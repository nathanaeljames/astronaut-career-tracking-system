<div class="card">
    <div class="card-header bg-success text-white">
        <h4 class="mb-0">Create Astronaut Duty Assignment</h4>
    </div>
    <div class="card-body">
        <form (ngSubmit)="onSubmit()">
            <div class="row">
                <div class="col-md-6 mb-3">
                    <label for="personName" class="form-label">Astronaut *</label>
                    <select class="form-select" id="personName" [(ngModel)]="selectedPersonName" name="personName"
                        [disabled]="loading || loadingPeople" required>
                        <option value="">-- Select a person --</option>
                        <option *ngFor="let person of people" [value]="person.name">
                            {{ person.name || '(No name - ID: ' + person.personId + ')' }}
                        </option>
                    </select>
                </div>

                <div class="col-md-6 mb-3">
                    <label for="rank" class="form-label">Rank *</label>
                    <input type="text" class="form-control" id="rank" [(ngModel)]="rank" name="rank"
                        placeholder="e.g., Captain, Commander" [disabled]="loading" required>
                </div>
            </div>

            <div class="row">
                <div class="col-md-6 mb-3">
                    <label for="dutyTitle" class="form-label">Duty Title *</label>
                    <input type="text" class="form-control" id="dutyTitle" [(ngModel)]="dutyTitle" name="dutyTitle"
                        placeholder="e.g., Pilot, Engineer, Commander" [disabled]="loading" required>
                </div>

                <div class="col-md-6 mb-3">
                    <label for="dutyStartDate" class="form-label">Start Date *</label>
                    <input type="date" class="form-control" id="dutyStartDate" [(ngModel)]="dutyStartDate"
                        name="dutyStartDate" [disabled]="loading" required>
                </div>
            </div>

            <div *ngIf="error" class="alert alert-danger" role="alert">
                <strong>Error:</strong> {{ error }}
            </div>

            <div *ngIf="success" class="alert alert-success" role="alert">
                <strong>Success!</strong> {{ success }}
            </div>

            <button type="submit" class="btn btn-success"
                [disabled]="loading || loadingPeople || !selectedPersonName || !rank || !dutyTitle || !dutyStartDate">
                <span *ngIf="loading">
                    <span class="spinner-border spinner-border-sm me-2" role="status" aria-hidden="true"></span>
                    Creating Duty Assignment...
                </span>
                <span *ngIf="!loading">Create Duty Assignment</span>
            </button>
        </form>
    </div>
</div>